<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title></title>
</head>
<body>
	
</body>

<script id="tpl" type="text/mytpl">

<ul>
	<li v-for="(shop, index1) in bookshop">
		<dd v-if="index1==0" v-for="(category, index2) in shop.categories">
			{{index1}}:{{shop.name}} -- {{index2}}:{{category.name}}
		</dd>

		<p v-if="index1 == 0" >{{data}}</p>
		<p v-else-if="0" >abc</p>
		<p v-else-if="1" >zz</p>
		<p v-else >{{data}}</p>

		<dd v-for="(category, index2) in shop.categories">
			{{index1}}:{{shop.name}} - {{index2}}:{{category.name}}
		</dd>

		<h1 v-show="1">{{data}}</h1>

		<div v-if="type === 'A'">
		  A
		</div>
		<div v-else-if="type === 'B'">
		  B
		</div>
		<div v-else-if="type === 'C'">
		  C
		</div>
		<div v-else>
		  Not A/B/C
		</div>

		<dd v-for="(category, index2) in shop.categories">
			{{index1}}:{{shop.name}} - {{index2}}:{{category.name}}
		</dd>
	</li>
</ul>



</script>

<script src="TemplateEngine.js"></script>
<script>
var TemplateEngine = new TemplateEngine("{{","}}");

var tpl = TemplateEngine(document.getElementById("tpl").innerHTML, {
	data:"hello world",type:"C",
	isActive:true, 
	hasError: false,  
	styleObject: {
		color: 'red',
		fontSize: '13px'   //不能用font-size,否则new Function编译报错
	},
	bookshop:[
		{
			name:"新华书店", 
			categories:[
				{
					name:"九年义务教育",
					books:[
						{
							name:"语文书",
							pages:800
						},
						{
							name:"数学书",
							pages:300,
							author:"教育局"
						},
						{
							name:"英语书",
							pages:300,
							wordCount:"10万"
						}
					]
				},
				{
					name:"高中",
					books:[
						{
							name:"五年高考",
							pages:500
						},
						{
							name:"三年模拟",
							pages:300
						}
					]
				}
			]
		},
		{
			name:"诚品书店", 
			categories:[
				{
					name:"web编程",
					books:[
						{
							name:"html入门到精通",
							pages:800
						},
						{
							name:"javascript权威指南",
							pages:300,
							author:"淘宝前端团队"
						},
						{
							name:"css禅意花园",
							pages:300,
						}
					]
				},
				{
					name:"中国历史",
					books:[
						{
							name:"近代史",
							pages:500
						},
						{
							name:"石器时代",
							pages:300
						}
					]
				}
			]
		}
	]
});

document.body.innerHTML = tpl;
console.log(tpl);

</script>
</html>
